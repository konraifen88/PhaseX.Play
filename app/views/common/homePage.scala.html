@(playerName: String, env: securesocial.core.RuntimeEnvironment)

@scripts = {
    <script src="https://cdn.rawgit.com/gdi2290/angular-websocket/v1.0.9/angular-websocket.min.js"></script>
    <script src="../assets/javascripts/mainPage.js"></script>
}

@main("PhaseX - Home", playerName, env, scripts) {
    <div id="lobbyApp">
        <div ng-controller="mainCtrl">
            @if(flash.containsKey("error")) {

                <div class="alert alert-danger">
                    <p>
                        @flash.get("error")
                    </p>
                </div>

            }

            <div align="center">
                <img src="assets/images/Logo.png"/>
            </div>

            <div class="row">
                <div class="col-xs-offset-4 col-xs-4">
                    <div class="input-group">
                        <input id="newLobbyInput" ng-keyup="$event.keyCode == 13 && joinLobby()" type="text" class="form-control" placeholder="Enter new Lobby Name">
                        <span class="input-group-btn">
                            <button class="btn btn-default" id="newLobbyBtn" type="button">Enter!</button>
                        </span>
                    </div>
                </div>
            </div>

            @*Printing available lobbies*@
            <div class="row col-xs-offset-3">
                <h3>Available lobbies</h3>
            </div>
            <div class="row">
                <div class="btn-group-vertical col-xs-offset-4 col-xs-4" role="group">
                    <div ng-repeat="freelobby in freeLobbies">
                        <a href="/chat/{{freelobby}}" class="list-group-item list-group-item-success">{{freelobby}}</a>
                    </div>
                    <a href="#" class="list-group-item list-group-item-danger" ng-repeat="fulllobby in fullLobbies">
                        {{fulllobby}}</a>
                </div>
                @*<a class="glyphicon glyphicon-refresh" href="/"></a>*@
            </div>
        </div>
    </div>
}
